{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/oscady/Documents/projects/outboard/client/src/components-back/Tracks/UploadTrack.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport Styled from 'styled-components';\nconst AppContainer = Styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  \n`;\n_c = AppContainer;\nconst Menu = Styled.div`\n  height: 100%\n  width: 30%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n`;\n_c2 = Menu;\nconst FormContainer = Styled.div`\n  height: 100%\n  width: 70%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n`;\n_c3 = FormContainer;\nexport class UploadTrack extends Component {\n  constructor(props) {\n    super(props);\n\n    this.selectItem = item => {\n      this.setState({\n        id: item._id,\n        productionCompany: item.productionCompany,\n        brand: item.brand,\n        agency: item.agency,\n        title: item.title,\n        director: item.director,\n        video: item.video,\n        favourite: item.favourite,\n        gallery: item.gallery\n      });\n    };\n\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.clearForm = () => {\n      this.setState({\n        id: null,\n        productionCompany: '',\n        brand: '',\n        agency: '',\n        title: '',\n        director: '',\n        video: '',\n        favourite: false,\n        gallery: ''\n      });\n    };\n\n    this.imageSelect = image => {\n      this.setState({\n        gallery: image\n      });\n    };\n\n    this.videoSelect = vid => {\n      this.setState({\n        video: vid\n      });\n    };\n\n    this.onChange = e => {\n      switch (e.target.name) {\n        case 'favourite':\n          this.setState({\n            favourite: !this.state.favourite // flip boolean value\n\n          });\n          break;\n\n        default:\n          this.setState({\n            [e.target.name]: e.target.value\n          });\n      }\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        productionCompany,\n        brand,\n        agency,\n        title,\n        director,\n        gallery,\n        video,\n        favourite\n      } = this.state; // this.composeGalleryArray(gallery);\n      // const galleryLen = gallery.length;\n\n      let formData = new FormData();\n      formData.append('productionCompany', productionCompany);\n      formData.append('brand', brand);\n      formData.append('agency', agency);\n      formData.append('title', title);\n      formData.append('director', director);\n      formData.append('video', video);\n      formData.append('favourite', favourite);\n      formData.append('gallery', gallery); // for (var y = 0; y < galleryLen; y++) {\n      //   formData.append(\"gallery[]\", gallery[y]);\n      // }\n      // close modal.\n\n      this.toggle();\n      this.props.addItem(formData);\n      this.clearForm();\n    };\n\n    this.submitGallery = galleryImages => {\n      this.setState({\n        gallery: galleryImages\n      });\n      this.setState({\n        modal: false\n      });\n    };\n\n    this.composeGalleryArray = items => {\n      this.setState({\n        gallery: [...this.state.gallery, ...items]\n      });\n    };\n\n    this.state = {\n      id: null,\n      productionCompany: '',\n      modal: false,\n      brand: '',\n      agency: '',\n      title: '',\n      director: '',\n      gallery: '',\n      video: '',\n      favourite: true\n    };\n  }\n\n  componentDidMount() {\n    this.clearForm();\n  }\n\n  render() {\n    const {\n      items\n    } = this.props;\n    const {\n      _id,\n      productionCompany,\n      brand,\n      agency,\n      title,\n      director,\n      gallery,\n      video\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(AppContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Menu, {\n        children: [items === undefined ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"no items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(DropDown, {\n          header: \"items\",\n          items: items,\n          selectItem: this.selectItem,\n          ...this.props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(ImageUpload, { ...this.props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(VideoUpload, { ...this.props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"admin-button\",\n          onClick: this.clearForm,\n          children: \"Clear Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: this.onSubmit,\n          action: \"/\",\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            children: /*#__PURE__*/_jsxDEV(Label, {\n              style: {\n                padding: '5px'\n              },\n              htmlFor: \"brand\",\n              children: [\"brand\", /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                name: \"brand\",\n                value: brand,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: /*#__PURE__*/_jsxDEV(Label, {\n              style: {\n                padding: '5px'\n              },\n              htmlFor: \"agency\",\n              children: [\"agency\", /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                name: \"agency\",\n                value: agency,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: /*#__PURE__*/_jsxDEV(Label, {\n              style: {\n                padding: '5px'\n              },\n              htmlFor: \"title\",\n              children: [\"title\", /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                name: \"title\",\n                value: title,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: /*#__PURE__*/_jsxDEV(Label, {\n              style: {\n                padding: '5px'\n              },\n              htmlFor: \"director\",\n              children: [\"director\", /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                name: \"director\",\n                value: director,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: /*#__PURE__*/_jsxDEV(Label, {\n              style: {\n                padding: '5px'\n              },\n              htmlFor: \"productionCompany\",\n              children: [\"production company\", /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                name: \"productionCompany\",\n                value: productionCompany,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              name: \"gallery\",\n              style: {\n                display: 'none'\n              },\n              value: gallery,\n              onChange: this.onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(ImageSelectModal, { ...this.props,\n              submitGallery: this.submitGallery,\n              images: this.state.images,\n              galleryImages: gallery,\n              selected: this.imageSelect,\n              name: \"gallery\",\n              modal: this.state.modal,\n              toggle: this.toggle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"\",\n              src: `https://res.cloudinary.com/dlv7e1bki/w_200,h_200/${this.state.gallery}`,\n              className: \"admin-image-thumbnail\"\n            }, this.state.gallery, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              name: \"video\",\n              style: {\n                display: 'none'\n              },\n              value: video,\n              onChange: this.onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(VideoSelectModal, { ...this.props,\n              submitGallery: this.submitGallery,\n              videos: this.state.videos,\n              galleryImages: video,\n              selected: this.videoSelect,\n              name: \"video\",\n              modal: this.state.modal,\n              toggle: this.toggle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 8\n            }, this), this.state.video]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"admin-button\",\n              type: \"submit\",\n              children: \"add item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 4\n    }, this);\n  }\n\n}\nexport default UploadTrack;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"AppContainer\");\n$RefreshReg$(_c2, \"Menu\");\n$RefreshReg$(_c3, \"FormContainer\");","map":{"version":3,"sources":["/home/oscady/Documents/projects/outboard/client/src/components-back/Tracks/UploadTrack.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Styled","AppContainer","div","Menu","FormContainer","UploadTrack","constructor","props","selectItem","item","setState","id","_id","productionCompany","brand","agency","title","director","video","favourite","gallery","toggle","modal","state","clearForm","imageSelect","image","videoSelect","vid","onChange","e","target","name","value","onSubmit","preventDefault","formData","FormData","append","addItem","submitGallery","galleryImages","composeGalleryArray","items","componentDidMount","render","undefined","padding","display","images","videos"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport Styled from 'styled-components';\n\nconst AppContainer = Styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  \n`;\nconst Menu = Styled.div`\n  height: 100%\n  width: 30%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n`;\n\nconst FormContainer = Styled.div`\n  height: 100%\n  width: 70%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n`;\n\nexport class UploadTrack extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tid: null,\n\t\t\tproductionCompany: '',\n\t\t\tmodal: false,\n\t\t\tbrand: '',\n\t\t\tagency: '',\n\t\t\ttitle: '',\n\t\t\tdirector: '',\n\t\t\tgallery: '',\n\t\t\tvideo: '',\n\t\t\tfavourite: true\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.clearForm();\n\t}\n\n\tselectItem = (item) => {\n\t\tthis.setState({\n\t\t\tid: item._id,\n\t\t\tproductionCompany: item.productionCompany,\n\t\t\tbrand: item.brand,\n\t\t\tagency: item.agency,\n\t\t\ttitle: item.title,\n\t\t\tdirector: item.director,\n\t\t\tvideo: item.video,\n\t\t\tfavourite: item.favourite,\n\t\t\tgallery: item.gallery\n\t\t});\n\t};\n\ttoggle = () => {\n\t\tthis.setState({\n\t\t\tmodal: !this.state.modal\n\t\t});\n\t};\n\n\t// clear form function actioned when clear form button selected and on form\n\t// submit\n\tclearForm = () => {\n\t\tthis.setState({\n\t\t\tid: null,\n\t\t\tproductionCompany: '',\n\t\t\tbrand: '',\n\t\t\tagency: '',\n\t\t\ttitle: '',\n\t\t\tdirector: '',\n\t\t\tvideo: '',\n\t\t\tfavourite: false,\n\t\t\tgallery: ''\n\t\t});\n\t};\n\n\t// retrieve main image from single image select modal\n\timageSelect = (image) => {\n\t\tthis.setState({ gallery: image });\n\t};\n\n\t// retrieve video from video select modal\n\tvideoSelect = (vid) => {\n\t\tthis.setState({ video: vid });\n\t};\n\n\tonChange = (e) => {\n\t\tswitch (e.target.name) {\n\t\t\tcase 'favourite':\n\t\t\t\tthis.setState({\n\t\t\t\t\tfavourite: !this.state.favourite // flip boolean value\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.setState({\n\t\t\t\t\t[e.target.name]: e.target.value\n\t\t\t\t});\n\t\t}\n\t};\n\n\tonSubmit = (e) => {\n\t\te.preventDefault();\n\t\tconst { productionCompany, brand, agency, title, director, gallery, video, favourite } = this.state;\n\n\t\t// this.composeGalleryArray(gallery);\n\t\t// const galleryLen = gallery.length;\n\n\t\tlet formData = new FormData();\n\n\t\tformData.append('productionCompany', productionCompany);\n\t\tformData.append('brand', brand);\n\t\tformData.append('agency', agency);\n\t\tformData.append('title', title);\n\t\tformData.append('director', director);\n\t\tformData.append('video', video);\n\t\tformData.append('favourite', favourite);\n\t\tformData.append('gallery', gallery);\n\t\t// for (var y = 0; y < galleryLen; y++) {\n\t\t//   formData.append(\"gallery[]\", gallery[y]);\n\t\t// }\n\n\t\t// close modal.\n\t\tthis.toggle();\n\n\t\tthis.props.addItem(formData);\n\n\t\tthis.clearForm();\n\t};\n\n\t// retrieve images from gallery modal and set to current project state\n\tsubmitGallery = (galleryImages) => {\n\t\tthis.setState({ gallery: galleryImages });\n\t\tthis.setState({\n\t\t\tmodal: false\n\t\t});\n\t};\n\n\tcomposeGalleryArray = (items) => {\n\t\tthis.setState({\n\t\t\tgallery: [ ...this.state.gallery, ...items ]\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { items } = this.props;\n\t\tconst { _id, productionCompany, brand, agency, title, director, gallery, video } = this.state;\n\t\treturn (\n\t\t\t<AppContainer>\n\t\t\t\t<Menu>\n\t\t\t\t\t{items === undefined ? (\n\t\t\t\t\t\t<p>no items</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<DropDown header='items' items={items} selectItem={this.selectItem} {...this.props} />\n\t\t\t\t\t)}\n\t\t\t\t\t<ImageUpload {...this.props} />\n\t\t\t\t\t<VideoUpload {...this.props} />\n\t\t\t\t\t<Button className='admin-button' onClick={this.clearForm}>\n\t\t\t\t\t\tClear Form\n\t\t\t\t\t</Button>\n\t\t\t\t</Menu>\n\t\t\t\t<FormContainer>\n\t\t\t\t\t<Form onSubmit={this.onSubmit} action='/'>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tpadding: '5px'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\thtmlFor='brand'>\n\t\t\t\t\t\t\t\tbrand\n\t\t\t\t\t\t\t\t<Input type='text' name='brand' value={brand} onChange={this.onChange} />\n\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tpadding: '5px'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\thtmlFor='agency'>\n\t\t\t\t\t\t\t\tagency\n\t\t\t\t\t\t\t\t<Input type='text' name='agency' value={agency} onChange={this.onChange} />\n\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tpadding: '5px'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\thtmlFor='title'>\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t<Input type='text' name='title' value={title} onChange={this.onChange} />\n\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t</FormGroup>\n\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tpadding: '5px'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\thtmlFor='director'>\n\t\t\t\t\t\t\t\tdirector\n\t\t\t\t\t\t\t\t<Input type='text' name='director' value={director} onChange={this.onChange} />\n\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t</FormGroup>\n\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tpadding: '5px'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\thtmlFor='productionCompany'>\n\t\t\t\t\t\t\t\tproduction company\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tname='productionCompany'\n\t\t\t\t\t\t\t\t\tvalue={productionCompany}\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname='gallery'\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalue={gallery}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ImageSelectModal\n\t\t\t\t\t\t\t\t{...this.props}\n\t\t\t\t\t\t\t\tsubmitGallery={this.submitGallery}\n\t\t\t\t\t\t\t\timages={this.state.images}\n\t\t\t\t\t\t\t\tgalleryImages={gallery}\n\t\t\t\t\t\t\t\tselected={this.imageSelect}\n\t\t\t\t\t\t\t\tname='gallery'\n\t\t\t\t\t\t\t\tmodal={this.state.modal}\n\t\t\t\t\t\t\t\ttoggle={this.toggle}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\talt=''\n\t\t\t\t\t\t\t\t\tsrc={`https://res.cloudinary.com/dlv7e1bki/w_200,h_200/${this.state.gallery}`}\n\t\t\t\t\t\t\t\t\tclassName='admin-image-thumbnail'\n\t\t\t\t\t\t\t\t\tkey={this.state.gallery}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname='video'\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalue={video}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<VideoSelectModal\n\t\t\t\t\t\t\t\t{...this.props}\n\t\t\t\t\t\t\t\tsubmitGallery={this.submitGallery}\n\t\t\t\t\t\t\t\tvideos={this.state.videos}\n\t\t\t\t\t\t\t\tgalleryImages={video}\n\t\t\t\t\t\t\t\tselected={this.videoSelect}\n\t\t\t\t\t\t\t\tname='video'\n\t\t\t\t\t\t\t\tmodal={this.state.modal}\n\t\t\t\t\t\t\t\ttoggle={this.toggle}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{this.state.video}\n\t\t\t\t\t\t</FormGroup>\n\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Button className='admin-button' type='submit'>\n\t\t\t\t\t\t\t\tadd item\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{/* <Button onClick={() => this.state._id === null ? null : this.props.deleteMenu(_id)}className=\"admin-button\" type=\"submit\">{_id === null\n                  ? \"Add Menu\"\n                  : \"Edit Menu\"}</Button> */}\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Form>\n\t\t\t\t</FormContainer>\n\t\t\t</AppContainer>\n\t\t);\n\t}\n}\n\nexport default UploadTrack;\n"]},"metadata":{},"sourceType":"module"}