{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/oscady/Documents/projects/outboard/client/src/components-back/Tracks/UploadTrack.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport Styled from 'styled-components';\nconst AppContainer = Styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  \n`;\nconst ButtonContainer = Styled.div`\n  height: 150px;\n  width: 100%;\n  position:absolute;\n  bottom: 0;\n  left:0;\n  right: 0;\n\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n`;\n_c = ButtonContainer;\nconst FormContainer = Styled.div`\n  height: 100%\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n`;\n_c2 = FormContainer;\nexport class UploadTrack extends Component {\n  constructor(props) {\n    super(props);\n\n    this.selectItem = item => {\n      this.setState({\n        id: item._id,\n        productionCompany: item.productionCompany,\n        brand: item.brand,\n        agency: item.agency,\n        title: item.title,\n        director: item.director,\n        video: item.video,\n        favourite: item.favourite,\n        gallery: item.gallery\n      });\n    };\n\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.clearForm = () => {\n      this.setState({\n        id: null,\n        artist: '',\n        trackName: '',\n        artwork: ''\n      });\n    };\n\n    this.imageSelect = image => {\n      this.setState({\n        gallery: image\n      });\n    };\n\n    this.videoSelect = vid => {\n      this.setState({\n        video: vid\n      });\n    };\n\n    this.onChange = e => {\n      switch (e.target.name) {\n        case 'favourite':\n          this.setState({\n            favourite: !this.state.favourite // flip boolean value\n\n          });\n          break;\n\n        default:\n          this.setState({\n            [e.target.name]: e.target.value\n          });\n      }\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        productionCompany,\n        brand,\n        agency,\n        title,\n        director,\n        gallery,\n        video,\n        favourite\n      } = this.state; // this.composeGalleryArray(gallery);\n      // const galleryLen = gallery.length;\n\n      let formData = new FormData();\n      formData.append('productionCompany', productionCompany);\n      formData.append('brand', brand);\n      formData.append('agency', agency);\n      formData.append('title', title);\n      formData.append('director', director);\n      formData.append('video', video);\n      formData.append('favourite', favourite);\n      formData.append('gallery', gallery); // for (var y = 0; y < galleryLen; y++) {\n      //   formData.append(\"gallery[]\", gallery[y]);\n      // }\n      // close modal.\n\n      this.toggle();\n      this.props.addItem(formData);\n      this.clearForm();\n    };\n\n    this.submitGallery = galleryImages => {\n      this.setState({\n        gallery: galleryImages\n      });\n      this.setState({\n        modal: false\n      });\n    };\n\n    this.composeGalleryArray = items => {\n      this.setState({\n        gallery: [...this.state.gallery, ...items]\n      });\n    };\n\n    this.state = {\n      id: null,\n      productionCompany: '',\n      modal: false,\n      brand: '',\n      agency: '',\n      title: '',\n      director: '',\n      gallery: '',\n      video: '',\n      favourite: true\n    };\n  }\n\n  componentDidMount() {\n    this.clearForm();\n  }\n\n  render() {\n    const {\n      items\n    } = this.props;\n    const {\n      _id,\n      productionCompany,\n      brand,\n      agency,\n      title,\n      director,\n      gallery,\n      video\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(FormContainer, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: this.onSubmit,\n        action: \"/cms\",\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            style: {\n              padding: '5px'\n            },\n            htmlFor: \"brand\",\n            children: \"brand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            name: \"brand\",\n            value: brand,\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"admin-button\",\n              type: \"submit\",\n              children: \"add item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"admin-button\",\n              onClick: this.clearForm,\n              children: \"Clear Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 4\n    }, this);\n  }\n\n}\nexport default UploadTrack;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ButtonContainer\");\n$RefreshReg$(_c2, \"FormContainer\");","map":{"version":3,"sources":["/home/oscady/Documents/projects/outboard/client/src/components-back/Tracks/UploadTrack.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Styled","AppContainer","div","ButtonContainer","FormContainer","UploadTrack","constructor","props","selectItem","item","setState","id","_id","productionCompany","brand","agency","title","director","video","favourite","gallery","toggle","modal","state","clearForm","artist","trackName","artwork","imageSelect","image","videoSelect","vid","onChange","e","target","name","value","onSubmit","preventDefault","formData","FormData","append","addItem","submitGallery","galleryImages","composeGalleryArray","items","componentDidMount","render","padding"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport Styled from 'styled-components';\n\nconst AppContainer = Styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  \n`;\nconst ButtonContainer = Styled.div`\n  height: 150px;\n  width: 100%;\n  position:absolute;\n  bottom: 0;\n  left:0;\n  right: 0;\n\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n`;\n\nconst FormContainer = Styled.div`\n  height: 100%\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n`;\n\nexport class UploadTrack extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tid: null,\n\t\t\tproductionCompany: '',\n\t\t\tmodal: false,\n\t\t\tbrand: '',\n\t\t\tagency: '',\n\t\t\ttitle: '',\n\t\t\tdirector: '',\n\t\t\tgallery: '',\n\t\t\tvideo: '',\n\t\t\tfavourite: true\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.clearForm();\n\t}\n\n\tselectItem = (item) => {\n\t\tthis.setState({\n\t\t\tid: item._id,\n\t\t\tproductionCompany: item.productionCompany,\n\t\t\tbrand: item.brand,\n\t\t\tagency: item.agency,\n\t\t\ttitle: item.title,\n\t\t\tdirector: item.director,\n\t\t\tvideo: item.video,\n\t\t\tfavourite: item.favourite,\n\t\t\tgallery: item.gallery\n\t\t});\n\t};\n\ttoggle = () => {\n\t\tthis.setState({\n\t\t\tmodal: !this.state.modal\n\t\t});\n\t};\n\n\t// clear form function actioned when clear form button selected and on form\n\t// submit\n\tclearForm = () => {\n\t\tthis.setState({\n\t\t\tid: null,\n\t\t\tartist: '',\n\t\t\ttrackName: '',\n\t\t\tartwork: ''\n\t\t});\n\t};\n\n\t// retrieve main image from single image select modal\n\timageSelect = (image) => {\n\t\tthis.setState({ gallery: image });\n\t};\n\n\t// retrieve video from video select modal\n\tvideoSelect = (vid) => {\n\t\tthis.setState({ video: vid });\n\t};\n\n\tonChange = (e) => {\n\t\tswitch (e.target.name) {\n\t\t\tcase 'favourite':\n\t\t\t\tthis.setState({\n\t\t\t\t\tfavourite: !this.state.favourite // flip boolean value\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.setState({\n\t\t\t\t\t[e.target.name]: e.target.value\n\t\t\t\t});\n\t\t}\n\t};\n\n\tonSubmit = (e) => {\n\t\te.preventDefault();\n\t\tconst { productionCompany, brand, agency, title, director, gallery, video, favourite } = this.state;\n\n\t\t// this.composeGalleryArray(gallery);\n\t\t// const galleryLen = gallery.length;\n\n\t\tlet formData = new FormData();\n\n\t\tformData.append('productionCompany', productionCompany);\n\t\tformData.append('brand', brand);\n\t\tformData.append('agency', agency);\n\t\tformData.append('title', title);\n\t\tformData.append('director', director);\n\t\tformData.append('video', video);\n\t\tformData.append('favourite', favourite);\n\t\tformData.append('gallery', gallery);\n\t\t// for (var y = 0; y < galleryLen; y++) {\n\t\t//   formData.append(\"gallery[]\", gallery[y]);\n\t\t// }\n\n\t\t// close modal.\n\t\tthis.toggle();\n\n\t\tthis.props.addItem(formData);\n\n\t\tthis.clearForm();\n\t};\n\n\t// retrieve images from gallery modal and set to current project state\n\tsubmitGallery = (galleryImages) => {\n\t\tthis.setState({ gallery: galleryImages });\n\t\tthis.setState({\n\t\t\tmodal: false\n\t\t});\n\t};\n\n\tcomposeGalleryArray = (items) => {\n\t\tthis.setState({\n\t\t\tgallery: [ ...this.state.gallery, ...items ]\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { items } = this.props;\n\t\tconst { _id, productionCompany, brand, agency, title, director, gallery, video } = this.state;\n\t\treturn (\n\t\t\t<FormContainer>\n\t\t\t\t<Form onSubmit={this.onSubmit} action='/cms'>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tpadding: '5px'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\thtmlFor='brand'>\n\t\t\t\t\t\t\tbrand\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t<Input type='text' name='brand' value={brand} onChange={this.onChange} />\n\t\t\t\t\t</FormGroup>\n\n\t\t\t\t\t<ButtonContainer>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Button className='admin-button' type='submit'>\n\t\t\t\t\t\t\t\tadd item\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Button className='admin-button' onClick={this.clearForm}>\n\t\t\t\t\t\t\t\tClear Form\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</ButtonContainer>\n\t\t\t\t</Form>\n\t\t\t</FormContainer>\n\t\t);\n\t}\n}\n\nexport default UploadTrack;\n"]},"metadata":{},"sourceType":"module"}